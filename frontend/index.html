<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRD 직업훈련 관리 시스템</title>
    <link rel="stylesheet" href="/src/styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div id="app">
        <!-- Login Page -->
        <div id="loginPage" class="login-container">
            <div class="login-box">
                <div class="logo-area">
                    <h1>HRD Academy</h1>
                    <p>직업훈련 행정관리 시스템</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">아이디</label>
                        <input type="text" id="username" required placeholder="admin / student">
                    </div>
                    <div class="form-group">
                        <label for="password">비밀번호</label>
                        <input type="password" id="password" required placeholder="admin123 / student123">
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">로그인</button>
                </form>
            </div>
        </div>

        <!-- Main Application (Hidden by default) -->
        <div id="mainApp" class="main-layout" style="display: none;">
            <!-- Sidebar -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h2>HRD Academy</h2>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item active" data-page="dashboard">
                        <i class="fas fa-home"></i> 대시보드
                    </li>
                    <li class="nav-item" data-page="students">
                        <i class="fas fa-user-graduate"></i> 훈련생 관리
                    </li>
                    <li class="nav-item" data-page="consultations">
                        <i class="fas fa-comments"></i> 상담 관리
                    </li>
                    <li class="nav-item" data-page="exams">
                        <i class="fas fa-file-alt"></i> 시험 관리
                    </li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main class="content-area">
                <header class="top-header">
                    <h2 id="pageTitle">대시보드</h2>
                    <div class="user-info">
                        <span id="userName">관리자</span>
                        <span id="userRole" class="badge badge-primary">Admin</span>
                        <button id="logoutBtn" class="btn btn-text">로그아웃</button>
                    </div>
                </header>

                <div id="contentContainer">
                    <!-- Dashboard Page -->
                    <div id="dashboardContent" class="content-section active">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">👥</div>
                                <div class="stat-info">
                                    <div class="stat-label">총 훈련생 수</div>
                                    <div class="stat-value" id="totalStudents">-</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">✨</div>
                                <div class="stat-info">
                                    <div class="stat-label">신규 등록 (이번 달)</div>
                                    <div class="stat-value" id="newStudents">-</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">💬</div>
                                <div class="stat-info">
                                    <div class="stat-label">상담 건수 (이번 달)</div>
                                    <div class="stat-value" id="consultationCount">-</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">⏰</div>
                                <div class="stat-info">
                                    <div class="stat-label">오늘 예정 상담</div>
                                    <div class="stat-value" id="todayConsultations">-</div>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-sections">
                            <div class="dashboard-card">
                                <h3>📅 오늘의 할 일</h3>
                                <div id="todayTasks" class="task-list">
                                    <p class="empty-state">오늘 예정된 일정이 없습니다.</p>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <h3>🔔 예정된 재상담</h3>
                                <div id="upcomingFollowUps" class="followup-list">
                                    <!-- Followup list content -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Student Dashboard (For Students) -->
                    <div id="studentDashboardContent" class="content-section">
                        <div class="dashboard-card">
                            <h3>📑 나의 시험 일정</h3>
                            <div id="studentExamList" class="exam-list">
                                <!-- Student exams will be populated here -->
                            </div>
                        </div>
                        <div class="dashboard-card" style="margin-top: 2rem;">
                            <h3>📊 나의 성적 현황</h3>
                            <div id="studentScoreStats">
                                <!-- Score stats -->
                            </div>
                        </div>
                    </div>

                    <!-- Students Page -->
                    <div id="studentsContent" class="content-section">
                        <div class="page-controls">
                            <div class="search-box">
                                <input type="text" id="studentSearch" placeholder="훈련생 검색...">
                            </div>
                            <div class="filter-controls">
                                <select id="studentStatusFilter">
                                    <option value="">전체 상태</option>
                                    <option value="active">재원</option>
                                    <option value="inactive">휴원</option>
                                    <option value="waiting">대기</option>
                                    <option value="completed">수료</option>
                                    <option value="dropped">중도탈락</option>
                                </select>
                                <button class="btn btn-primary" id="addStudentBtn">➕ 훈련생 등록</button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>이름</th>
                                        <th>생년월일</th>
                                        <th>연락처</th>
                                        <th>과정명</th>
                                        <th>상태</th>
                                        <th>등록일</th>
                                        <th>관리</th>
                                    </tr>
                                </thead>
                                <tbody id="studentList">
                                    <!-- Data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="studentPagination">
                            <!-- Pagination -->
                        </div>
                    </div>

                    <!-- Consultations Page -->
                    <div id="consultationsContent" class="content-section">
                        <div class="page-controls">
                            <div class="search-box">
                                <input type="text" id="consultationSearch" placeholder="상담 검색 (학생명, 상담사)...">
                            </div>
                            <div class="filter-controls">
                                <input type="date" id="consultationDateFilter">
                                <select id="consultationTypeFilter">
                                    <option value="">전체 유형</option>
                                    <option value="admission_interview">입학 면접</option>
                                    <option value="selection_eval">선발 평가</option>
                                    <option value="attendance_issue">출결 문제</option>
                                    <option value="learning_difficulty">학습 고충</option>
                                    <option value="grade_consultation">성적 상담</option>
                                    <option value="complaint">불만 접수</option>
                                    <option value="dropout_prevention">중도탈락 방어</option>
                                    <option value="career_counseling">진로 상담</option>
                                    <option value="job_placement">취업 알선</option>
                                    <option value="follow_up">사후 관리</option>
                                    <option value="other">기타</option>
                                </select>
                                <button class="btn btn-primary" id="addConsultationBtn">➕ 상담 등록</button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>상담일시</th>
                                        <th>훈련생</th>
                                        <th>상담유형</th>
                                        <th>상담사</th>
                                        <th>상담내용(요약)</th>
                                        <th>상태</th>
                                        <th>관리</th>
                                    </tr>
                                </thead>
                                <tbody id="consultationList">
                                    <!-- Data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="consultationPagination">
                            <!-- Pagination -->
                        </div>
                    </div>

                    <!-- Exams Page -->
                    <div id="examsContent" class="content-section">
                        <div class="page-controls">
                            <div class="search-box">
                                <input type="text" id="examSearch" placeholder="시험 검색...">
                            </div>
                            <div class="filter-controls">
                                <select id="examTypeFilter">
                                    <option value="">전체 유형</option>
                                    <option value="midterm">중간고사</option>
                                    <option value="final">기말고사</option>
                                    <option value="quiz">퀴즈</option>
                                    <option value="assignment">과제</option>
                                    <option value="practice">모의고사</option>
                                </select>
                                <button class="btn btn-primary" id="createExamBtn">➕ 시험 출제</button>
                                <button class="btn btn-secondary" id="openPdfUploadBtn">📄 PDF 문제 등록</button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>시험명</th>
                                        <th>유형</th>
                                        <th>응시 기간</th>
                                        <th>제한시간</th>
                                        <th>문항수</th>
                                        <th>상태</th>
                                        <th>관리</th>
                                    </tr>
                                </thead>
                                <tbody id="examList">
                                    <!-- Data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="examPagination">
                            <!-- Pagination -->
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Modals -->

        <!-- Modal for Student Form -->
        <div id="studentModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="studentModalTitle">훈련생 등록</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="studentForm">
                    <input type="hidden" id="studentId">
                    <div class="form-group">
                        <label for="studentName">이름 *</label>
                        <input type="text" id="studentName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="studentNumber">훈련생 번호 *</label>
                        <input type="text" id="studentNumber" name="trainee_number" required placeholder="예: 2023001">
                    </div>
                    <div class="form-group">
                        <label for="studentBirthDate">생년월일 *</label>
                        <input type="date" id="studentBirthDate" name="birth_date" required>
                    </div>
                    <div class="form-group">
                        <label for="studentPhone">연락처 *</label>
                        <input type="tel" id="studentPhone" name="phone" required placeholder="010-0000-0000">
                    </div>
                    <div class="form-group">
                        <label for="studentEmail">이메일</label>
                        <input type="email" id="studentEmail" name="email">
                    </div>
                    <div class="form-group">
                        <label for="studentCourse">수강 과정</label>
                        <input type="text" id="studentCourse" name="course_name" placeholder="예: 자바 개발자 양성과정">
                    </div>
                    <div class="form-group">
                        <label for="studentTraineeType">훈련생 구분 *</label>
                        <select id="studentTraineeType" name="trainee_type" required>
                            <option value="job_seeker">구직자</option>
                            <option value="employed">재직자</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="studentStatus">상태</label>
                        <select id="studentStatus" name="status">
                            <option value="active">재원</option>
                            <option value="inactive">휴원</option>
                            <option value="waiting">대기</option>
                            <option value="completed">수료</option>
                            <option value="dropped">중도탈락</option>
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close">취소</button>
                        <button type="submit" class="btn btn-primary">저장</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal for Consultation Form -->
        <div id="consultationModal" class="modal">
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h2 id="consultationModalTitle">상담 등록</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="consultationForm">
                    <input type="hidden" id="consultationId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="consultationStudent">훈련생 *</label>
                            <select id="consultationStudent" name="trainee_id" required>
                                <option value="">선택하세요</option>
                                <!-- Students will be populated here -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="consultationDate">상담 일시 *</label>
                            <input type="datetime-local" id="consultationDate" name="consult_date" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="consultationPhase">상담 단계 *</label>
                            <select id="consultationPhase" name="consultation_phase" required>
                                <option value="pre_admission">입학 전 선발</option>
                                <option value="during_training">훈련 중</option>
                                <option value="post_training">수료 후</option>
                                <option value="employment">취업 상담</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="consultationCategory">상담 유형 *</label>
                            <select id="consultationCategory" name="category" required>
                                <option value="admission_interview">입학 면접</option>
                                <option value="selection_eval">선발 평가</option>
                                <option value="attendance_issue">출결 문제</option>
                                <option value="learning_difficulty">학습 고충</option>
                                <option value="grade_consultation">성적 상담</option>
                                <option value="complaint">불만 접수</option>
                                <option value="dropout_prevention">중도탈락 방어</option>
                                <option value="career_counseling">진로 상담</option>
                                <option value="job_placement">취업 알선</option>
                                <option value="follow_up">사후 관리</option>
                                <option value="other">기타</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="consultationMethod">상담 방법</label>
                            <select id="consultationMethod" name="contact_method">
                                <option value="phone">전화</option>
                                <option value="visit">방문(대면)</option>
                                <option value="kakao">카카오톡</option>
                                <option value="sms">문자</option>
                                <option value="video">화상</option>
                                <option value="other">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="consultationImportance">중요도 (1-5)</label>
                            <input type="number" id="consultationImportance" name="importance" min="1" max="5"
                                value="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="consultationContent">상담 내용 *</label>
                        <textarea id="consultationContent" name="content" rows="6" required
                            placeholder="상담 내용을 상세히 기록하세요."></textarea>
                        <button type="button" id="analyzeConsultationBtn" class="btn btn-info btn-sm"
                            style="margin-top: 0.5rem;">
                            🤖 AI 내용 분석 및 조치 제안
                        </button>
                    </div>
                    <div id="aiAnalysisResult" class="ai-analysis-box" style="display: none;">
                        <h4>🤖 AI 분석 결과</h4>
                        <div id="aiAnalysisContent"></div>
                    </div>
                    <div class="form-group">
                        <label for="consultationAction">조치 사항 / 향후 계획</label>
                        <textarea id="consultationAction" name="action_taken" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="nextConsultationDate">다음 상담 예정일</label>
                        <input type="date" id="nextConsultationDate" name="next_follow_up_date">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close">취소</button>
                        <button type="submit" class="btn btn-primary">저장</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal for Question Form (문제 등록) -->
        <div id="questionModal" class="modal">
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h2 id="questionModalTitle">문제 등록</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="questionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="questionType">문제 유형 *</label>
                            <select id="questionType" name="type" required>
                                <option value="multiple_choice">객관식 (단일선택)</option>
                                <option value="multiple_answer">복수선택</option>
                                <option value="short_answer">단답형</option>
                                <option value="essay">서술형</option>
                                <option value="true_false">OX</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="questionDifficulty">난이도 *</label>
                            <select id="questionDifficulty" name="difficulty" required>
                                <option value="easy">쉬움</option>
                                <option value="medium">보통</option>
                                <option value="hard">어려움</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="ncsUnitCode">NCS 능력단위 코드</label>
                            <input type="text" id="ncsUnitCode" name="ncs_unit_code" placeholder="예: 02010101">
                        </div>
                        <div class="form-group">
                            <label for="scoreWeight">배점 *</label>
                            <input type="number" id="scoreWeight" name="score_weight" value="5" min="1" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="questionText">문제 지문 *</label>
                        <textarea id="questionText" name="question_text" rows="4" required></textarea>
                    </div>
                    <div id="optionsContainer" class="form-group">
                        <label>선택지 (객관식의 경우)</label>
                        <div class="options-list">
                            <input type="text" class="option-input" placeholder="1번 선택지">
                            <input type="text" class="option-input" placeholder="2번 선택지">
                            <input type="text" class="option-input" placeholder="3번 선택지">
                            <input type="text" class="option-input" placeholder="4번 선택지">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="correctAnswer">정답 *</label>
                        <input type="text" id="correctAnswer" name="correct_answer" required
                            placeholder="객관식: 1, 2, 3... / 주관식: 정답 내용">
                    </div>
                    <div class="form-group">
                        <label for="explanation">해설</label>
                        <textarea id="explanation" name="explanation" rows="3"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close">취소</button>
                        <button type="submit" class="btn btn-primary">저장</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal for Exam Form (시험 출제) -->
        <div id="examModal" class="modal">
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h2 id="examModalTitle">시험 출제</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="examForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="examTitle">시험 제목 *</label>
                            <input type="text" id="examTitle" name="title" required placeholder="예: 중간고사">
                        </div>
                        <div class="form-group">
                            <label for="examType">시험 유형 *</label>
                            <select id="examType" name="exam_type" required>
                                <option value="midterm">중간고사</option>
                                <option value="final">기말고사</option>
                                <option value="quiz">퀴즈</option>
                                <option value="assignment">과제</option>
                                <option value="practice">모의고사</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="examDescription">시험 설명</label>
                        <textarea id="examDescription" name="description" rows="2"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="examStartTime">응시 시작 시간 *</label>
                            <input type="datetime-local" id="examStartTime" name="start_time" required>
                        </div>
                        <div class="form-group">
                            <label for="examEndTime">응시 마감 시간 *</label>
                            <input type="datetime-local" id="examEndTime" name="end_time" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="timeLimit">제한 시간 (분)</label>
                            <input type="number" id="timeLimit" name="time_limit" min="1" placeholder="예: 60">
                        </div>
                        <div class="form-group">
                            <label for="totalScore">총점</label>
                            <input type="number" id="totalScore" name="total_score" value="100" min="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>시험 옵션</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="shuffle_questions"> 문제 순서 섞기</label>
                            <label><input type="checkbox" name="shuffle_options"> 선택지 순서 섞기</label>
                            <label><input type="checkbox" name="show_results_immediately"> 결과 즉시 공개</label>
                            <label><input type="checkbox" name="allow_review" checked> 답안 확인 허용</label>
                            <label><input type="checkbox" name="prevent_browser_exit"> 브라우저 이탈 감지</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>문제 선택</label>
                        <div id="questionSelector" class="question-selector">
                            <p class="empty-state">문제은행에서 문제를 선택하세요</p>
                        </div>
                        <button type="button" class="btn btn-secondary" id="selectQuestionsBtn">문제 선택</button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close">취소</button>
                        <button type="submit" class="btn btn-primary">시험 저장</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal for PDF Upload and Parsing -->
        <div id="pdfUploadModal" class="modal">
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h2>📄 PDF 문제지 업로드</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div style="padding: 1.5rem;">
                    <!-- Step 1: File Upload -->
                    <div id="pdfUploadStep" class="pdf-step active">
                        <div class="form-group">
                            <label for="pdfFileInput">PDF 파일 선택</label>
                            <input type="file" id="pdfFileInput" accept=".pdf"
                                style="display: block; width: 100%; padding: 0.75rem; border: 2px dashed var(--border-color); border-radius: var(--radius-md); cursor: pointer;">
                            <p style="margin-top: 0.5rem; font-size: 0.875rem; color: var(--text-secondary);">
                                🤖 AI가 자동으로 문제를 인식하여 등록합니다. (최대 10MB)
                            </p>
                        </div>
                        <button type="button" class="btn btn-primary" id="uploadPDFFileBtn" disabled>
                            📤 업로드 및 AI 파싱 시작
                        </button>
                    </div>

                    <!-- Step 2: Parsing Progress -->
                    <div id="pdfParsingStep" class="pdf-step" style="display: none;">
                        <div style="text-align: center; padding: 2rem;">
                            <div class="loading-spinner" style="margin: 0 auto 1rem;"></div>
                            <h3>🤖 AI가 문제를 분석하고 있습니다...</h3>
                            <p style="color: var(--text-secondary);">잠시만 기다려주세요. (30초~1분 소요)</p>
                        </div>
                    </div>

                    <!-- Step 3: Review Parsed Questions -->
                    <div id="pdfReviewStep" class="pdf-step" style="display: none;">
                        <div style="margin-bottom: 1rem;">
                            <h3>✅ 파싱 완료: <span id="parsedQuestionCount">0</span>개의 문제</h3>
                            <p style="color: var(--text-secondary); font-size: 0.875rem;">
                                아래 문제들을 검토하고 수정한 후 일괄 등록하세요.
                            </p>
                        </div>

                        <div id="parsedQuestionsContainer"
                            style="max-height: 400px; overflow-y: auto; border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: 1rem;">
                            <!-- Parsed questions will be inserted here -->
                        </div>

                        <div class="modal-footer"
                            style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                            <button type="button" class="btn btn-secondary" id="cancelPDFUploadBtn">취소</button>
                            <button type="button" class="btn btn-primary" id="batchRegisterQuestionsBtn">
                                ✅ <span id="registerCount">0</span>개 문제 일괄 등록
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Taking Exam -->
        <div id="examTakingModal" class="modal full-screen-modal">
            <div class="modal-content" style="max-width: 1000px; height: 90vh; display: flex; flex-direction: column;">
                <div class="modal-header">
                    <div>
                        <h2 id="takingExamTitle">시험 제목</h2>
                        <p id="takingExamTimer"
                            style="color: var(--danger-color); font-weight: bold; font-size: 1.2rem;">
                            남은 시간: 00:00:00</p>
                    </div>
                    <button class="btn btn-danger" id="exitExamBtn">나가기</button>
                </div>

                <div class="exam-body"
                    style="flex: 1; overflow-y: auto; padding: 2rem; display: grid; grid-template-columns: 1fr 250px; gap: 2rem;">
                    <!-- Question Area -->
                    <div id="examQuestionArea">
                        <!-- Questions will be rendered here -->
                    </div>

                    <!-- OMR / Navigation Area -->
                    <div class="exam-navigation">
                        <div
                            style="background: var(--bg-color); padding: 1rem; border-radius: var(--radius-md); position: sticky; top: 0;">
                            <h4>답안 표기</h4>
                            <div id="omrGrid"
                                style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.5rem; margin-top: 1rem;">
                                <!-- OMR buttons -->
                            </div>
                            <button class="btn btn-primary btn-block" style="margin-top: 2rem;"
                                id="submitExamBtn">제출하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Exam Result -->
        <div id="examResultModal" class="modal full-screen-modal">
            <div class="modal-content" style="max-width: 900px; height: 90vh; display: flex; flex-direction: column;">
                <div class="modal-header">
                    <div>
                        <h2 id="resultExamTitle">시험 결과</h2>
                        <p id="resultCourseTitle" style="color: var(--text-secondary);">강좌명</p>
                    </div>
                    <button class="modal-close"
                        onclick="document.getElementById('examResultModal').classList.remove('active')">&times;</button>
                </div>

                <div class="exam-body" style="flex: 1; overflow-y: auto; padding: 2rem;">
                    <!-- Score Summary -->
                    <div
                        style="background: var(--bg-color); padding: 2rem; border-radius: var(--radius-lg); text-align: center; margin-bottom: 2rem;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">총점</div>
                        <div
                            style="font-size: 3rem; font-weight: bold; color: var(--primary-color); margin-bottom: 0.5rem;">
                            <span id="resultScore">0</span> / <span id="resultTotalScore">100</span>
                        </div>
                        <div style="font-size: 0.9rem; color: var(--text-secondary);">
                            응시일: <span id="resultDate">2023-01-01</span> | 소요 시간: <span
                                id="resultTimeTaken">00:00</span>
                        </div>
                    </div>

                    <!-- Question Details -->
                    <div id="resultQuestionsList" style="display: flex; flex-direction: column; gap: 2rem;">
                        <!-- Questions will be rendered here -->
                    </div>
                </div>

                <div class="modal-footer" style="justify-content: center;">
                    <button class="btn btn-secondary"
                        onclick="document.getElementById('examResultModal').classList.remove('active')">닫기</button>
                </div>
            </div>
        </div>

        <!-- Modal for Exam Details -->
        <div id="examDetailModal" class="modal">
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h2>시험 상세 정보</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div id="examDetailContent" style="padding: 1.5rem;">
                    <p class="loading">데이터를 불러오는 중...</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary modal-close">닫기</button>
                    <button class="btn btn-danger" id="deleteExamBtn" style="display: none;">삭제</button>
                </div>
            </div>
        </div>

        <!-- Modal for Student Details -->
        <div id="studentDetailModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>훈련생 상세 정보</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div id="studentDetailContent" style="padding: 1.5rem;">
                    <p class="loading">데이터를 불러오는 중...</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary modal-close">닫기</button>
                    <button class="btn btn-primary" id="editStudentBtn">수정</button>
                </div>
            </div>
        </div>

        <!-- Modal for Consultation Details -->
        <div id="consultationDetailModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>상담 상세 정보</h2>
                    <button class="modal-close"
                        onclick="document.getElementById('consultationDetailModal').classList.remove('active')">&times;</button>
                </div>
                <div id="consultationDetailContent" style="padding: 1.5rem;">
                    <p class="loading">데이터를 불러오는 중...</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary"
                        onclick="document.getElementById('consultationDetailModal').classList.remove('active')">닫기</button>
                    <button class="btn btn-primary" id="editConsultationBtn" style="display: none;">수정</button>
                </div>
            </div>
        </div>

        <script type="module" src="/src/main.js"></script>
    </div>
</body>

</html>